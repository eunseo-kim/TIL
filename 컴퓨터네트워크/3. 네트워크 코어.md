# 3. 네트워크 코어


## 🔍네트워크 코어와 라우터

#### ✔네트워크 코어

- **네트워크 코어**란?
  - 접속 네트워크들을 연결하기 위해 ISP들이 운영하는 광역 네트워크
  - 인터넷의 종단 시스템을 연결하는 패킷 스위치들과 링크들의 연결망
- **네트워크 코어의 구성**
  - **'Mesh of interconnected routers'** 즉, 라우터들을 고속의 링크로 연결한 구조
  - 고속의 링크들이 패킷 스위치인 라우터들로 그물망처럼 연결된 네트워크 (Mesh of Routers)
  -  <img src="https://user-images.githubusercontent.com/67737432/134121547-96f5d1b6-962c-4f73-88ef-440fb90ce13f.png" width="50%">
- **종단간(End to End) 경로?**
  - **N개의 링크**와 **(N-1)개의 라우터**의 연결
  - 위의 사진에서 '**출발지**' 에서 '**목적지**'까지의 <u>종단간 경로</u>를 보면,
     6개의 링크와  5개의 라우터가 연결됨을 볼 수 있다!



#### ✔라우터(Router)

- **라우터의 기능**
  - ① **연결** 기능: 여러 개의 **네트워크**를 **연결**한다.
  - ② **교환** 기능: 수신된 **패킷**을 목적지 링크로 **교환**한다.
- **라우팅 프로토콜**은 **라우팅 테이블**을 **자동으로 생성하는 프로토콜**이다.

<br>

---

## 🔍패킷 스위칭

- **패킷**
  - 전송 장치 간에 전달되는 **정보의 단위**
  - 긴 메시지를 작은 **패킷 단위**로 나누어 전송하면 공유 링크에서의 **공정+신속한 전송이 가능**해짐
- **패킷 스위치**
  - 입력 링크와 출력 링크 간에 패킷 단위 교환
  - **라우터**도 일종의 패킷 스위치이다!



#### ✔라우터 링크 전송속도와 지연시간

- **링크의 전송 속도** 
  - 초당 링크가 몇 비트를 전송할 수 있는지 (bps, bit per second)
- **패킷 전송지연시간**
  - `L`(bit) : 패킷 크기
  - `R`(bps) : 링크 전송 속도
  - 패킷 전송지연시간:` L/R` (seconds)



#### ✔라우터의 Store-and-Forward 전송

- 수신된 패킷을 버퍼 메모리에 저장하고, 패킷을 완전히 수신한 후 패킷 전송을 시작한다.
- **⭐출발지 뿐 아니라, 각 라우터에서도 모두 전송지연시간이 발생한다⭐**

- 따라서, 라우터의 **종단간 패킷 전송지연시간**은(전달 지연시간은 미고려) …
  - `D_end-to-end = N X (L / R)`

<br>

---

## 🔍라우터 큐잉 지연시간과 패킷 손실

#### ✔큐잉 지연시간

![image](https://user-images.githubusercontent.com/67737432/134127278-685adc5a-743c-469e-99d6-1c247223a539.png)

- 패킷이 패킷 스위치(라우터)의 출력링크의 **큐(Queue) 버퍼 메모리**에서 **전송전에 대기하는 시간**
- 만약 출력 링크의 전송속도보다 **많은 양의 패킷이 링크로 교환될 때** 발생한다.
- 따라서 큐잉 지연시간은 네트워크의 혼잡 상황에 따라 발생할수도 있고, 안할수도 있다!

#### ✔패킷 손실

<img src="https://user-images.githubusercontent.com/67737432/134127360-970c323d-c491-4bd7-ba8a-39ffe2d479d0.png" width="60%">

- 위의 사진처럼 버퍼의 크기는 최대 40 패킷까지 저장가능한데, 50개의 패킷이 들어온 경우 → 패킷 10개가 손실되는 현상
- 즉, **버퍼 메모리에서 패킷이 저장되지 못하고 없어지는 현상**
- **유한한 크기의 버퍼 메모리**에 **많은 양의 패킷이 해당 링크로 교환**될 때 발생한다.

<br>

---

## 🔍회선 스위칭

- Circuit(회선) : 전화선 같은 저속의 케이블을 말한다.

#### ✔회선 스위칭

<img src="https://user-images.githubusercontent.com/67737432/134128783-e011bae2-5072-489b-a51e-c3a0a99d0598.png" width="50%">

- 발신자와 수신자 간에 독립적이며 동시에 폐쇄적인 통신 연결 방식으로, 대표적으로는 **전화망**을 생각하면 된다.
- 전용선을 할당하여 전송하는 방식 / Point to Point 방식
- 스위치의 입력 포트에 연결된 회선(링크)를 출력 포트에 연결된 **동일 전송속도**의 회선으로 교환한다.
- 즉, 회선 스위칭 방법에서 **모든 회선(링크)의 전송 속도는 동일하다.**
- **예시**
  - 음성 전송에 필요한 전송 속도는 64kbps로, 회선 스위칭에서 출발점부터 도착점까지의 모든 회선이 64kbps 전송 속도를 유지한다. 
  - 따라서 패킷을 받아 패킷을 해석하거나(no store-and-forward) 큐 버퍼에 보관할 필요도 없다(no queuing delay).
- **특징**
  - no Sharing Link
  - no Store-and-Forward
  - no Queuing delay
  - 일정한 전송 속도 보장
  - 짧고 일정한 지연시간이 보장
  - 전화 처럼 연속적인 신호 전송과 실시간 응용에 적합
- **단점**
  - 데이터가 발생되지 않는 구간에서는 회선이 낭비된다.
